function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt;a=self;b=a.WebSharper=a.WebSharper||{};c=b.IntroJS=b.IntroJS||{};d=c.Sample=c.Sample||{};e=d.Client=d.Client||{};f=b.Operators=b.Operators||{};g=b.Obj=b.Obj||{};h=b.UI=b.UI||{};i=h.Doc=h.Doc||{};j=b.JavaScript=b.JavaScript||{};k=j.Pervasives=j.Pervasives||{};l=h.Client=h.Client||{};m=l.Templates=l.Templates||{};n=h.DomUtility=h.DomUtility||{};o=h.AttrProxy=h.AttrProxy||{};p=h.View=h.View||{};q=a.EventTarget;r=a.Node;s=j.JS=j.JS||{};t=b.Collections=b.Collections||{};u=t.Dictionary=t.Dictionary||{};v=b.Unchecked=b.Unchecked||{};w=h.Elt=h.Elt||{};x=h.Array=h.Array||{};y=h.Snap=h.Snap||{};z=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};A=b.Arrays=b.Arrays||{};B=t.HashSet=t.HashSet||{};C=b.Seq=b.Seq||{};D=a.WindowOrWorkerGlobalScope;E=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};F=h.Docs=h.Docs||{};G=h.DocElemNode=h.DocElemNode||{};H=a.CharacterData;I=h.Updates=h.Updates||{};J=h.Attrs=h.Attrs||{};K=b.List=b.List||{};L=K.T=K.T||{};M=a.Object;N=t.DictionaryUtil=t.DictionaryUtil||{};O=m.Prepare=m.Prepare||{};P=b.Slice=b.Slice||{};Q=b.Enumerator=b.Enumerator||{};R=t.KeyCollection=t.KeyCollection||{};S=h.An=h.An||{};T=l.Settings=l.Settings||{};U=h.Abbrev=h.Abbrev||{};V=U.Mailbox=U.Mailbox||{};W=l.Attrs=l.Attrs||{};X=W.Dyn=W.Dyn||{};Y=U.Fresh=U.Fresh||{};Z=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};_0=b.Strings=b.Strings||{};_1=l.Docs=l.Docs||{};_2=_1.RunState=_1.RunState||{};_3=_1.NodeSet=_1.NodeSet||{};_4=h.Anims=h.Anims||{};_5=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};_6=Q.T=Q.T||{};_7=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};_8=b.Concurrency=b.Concurrency||{};_9=h.AppendList=h.AppendList||{};_=t.HashSetUtil=t.HashSetUtil||{};$=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};ba=h.Easing=h.Easing||{};bb=_8.AsyncBody=_8.AsyncBody||{};bc=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bd=_8.CT=_8.CT||{};be=U.HashSet=U.HashSet||{};bf=_8.Scheduler=_8.Scheduler||{};bg=b.CancellationTokenSource=b.CancellationTokenSource||{};bh=_1.DomNodes=_1.DomNodes||{};bi=b.Queue=b.Queue||{};bj=a.Error;bk=b.OperationCanceledException=b.OperationCanceledException||{};bl=b.Lazy=b.Lazy||{};bm=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bn=b.LazyExtensionsProxy=b.LazyExtensionsProxy||{};bo=bn.LazyRecord=bn.LazyRecord||{};bp=a.IntelliFactory;bq=bp&&bp.Runtime;br=a.console;bs=a.jQuery;bt=a.Date;e.Main=function(){var bu,bv,bw,bx,by,bz,bA,bB,bC;bu=new a.introJs();bv=i.Element("h1",[],[i.TextNode("I am the title.")]);bw=i.Element("div",[],[i.Element("p",[],[i.TextNode("I am a paragraph inside")]),i.Element("p",[],[i.TextNode("I am another paragraph")])]);bx=i.Button("Intro",[],function(){bu.start();});by=i.Element("div",[],[bv,bw,bx]);bu.addSteps([(bz={},bz.element=bv.elt,bz.intro="This is the title",bz),(bA={},bA.element=bx.elt,bA.intro="This is the button you pressed",bA),(bB={},bB.element=bw.elt,bB.intro="This is the content on the page",bB),(bC={},bC.element=by.elt,bC.intro="This is the whole page",bC)]);m.LoadLocalTemplates("");i.RunById("main",by);};f.FailWith=function(bu){throw new bj(bu);};f.KeyValue=function(bu){return[bu.K,bu.V];};g=b.Obj=bq.Class({Equals:function(bu){return this===bu;},GetHashCode:function(){return -1;}},null,g);g.New=bq.Ctor(function(){},g);i=h.Doc=bq.Class({},g,i);i.Element=function(bu,bv,bw){var bx,by;bx=o.Concat(bv);by=i.Concat(bw);return w.New(n.CreateElement(bu),bx,by);};i.TextNode=function(bu){return i.Mk({$:5,$0:n.CreateText(bu)},p.Const());};i.Button=function(bu,bv,bw){var bx;bx=o.Concat(bv);return w.New(i.Clickable("button",bw),bx,i.TextNode(bu));};i.RunById=function(bu,bv){var bw;bw=n.Doc().getElementById(bu);v.Equals(bw,null)?f.FailWith("invalid id: "+bu):i.Run(bw,bv);};i.Concat=function(bu){var bv;bv=x.ofSeqNonCopying(bu);return x.TreeReduce(i.get_Empty(),i.Append,bv);};i.Mk=function(bu,bv){return new i.New(bu,bv);};i.Clickable=function(bu,bv){var bw;bw=n.CreateElement(bu);bw.addEventListener("click",function(bx){bx.preventDefault();return bv();},false);return bw;};i.Run=function(bu,bv){F.LinkElement(bu,bv.docNode);i.RunInPlace(false,bu,bv);};i.Append=function(bu,bv){return i.Mk({$:0,$0:bu.docNode,$1:bv.docNode},p.Map2Unit(bu.updates,bv.updates));};i.get_Empty=function(){return i.Mk(null,p.Const());};i.RunInPlace=function(bu,bv,bw){var bx;bx=F.CreateRunState(bv,bw.docNode);p.Sink(S.get_UseAnimations()||T.BatchUpdatesEnabled()?V.StartProcessor(F.PerformAnimatedUpdate(bu,bx,bw.docNode)):function(){F.PerformSyncUpdate(bu,bx,bw.docNode);},bw.updates);};i.New=bq.Ctor(function(bu,bv){g.New.call(this);this.docNode=bu;this.updates=bv;},i);k.NewFromSeq=function(bu){var bv,bw,bx;bv={};bw=Q.Get(bu);try{while(bw.MoveNext()){bx=bw.Current();bv[bx[0]]=bx[1];}}finally{if(typeof bw=="object"&&"Dispose"in bw)bw.Dispose();}return bv;};m.LoadLocalTemplates=function(bu){!m.LocalTemplatesLoaded()?(m.set_LocalTemplatesLoaded(true),m.LoadNestedTemplates(self.document.body,"")):void 0;m.LoadedTemplates().set_Item(bu,m.LoadedTemplateFile(""));};m.LocalTemplatesLoaded=function(){z.$cctor();return z.LocalTemplatesLoaded;};m.set_LocalTemplatesLoaded=function(bu){z.$cctor();z.LocalTemplatesLoaded=bu;};m.LoadNestedTemplates=function(bu,bv){var bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK;function bw(bL){var bM,bN;if(!bx.ContainsKey(bL)){bM=(bN=null,[by.TryGetValue(bL,{get:function(){return bN;},set:function(bO){bN=bO;}}),bN]);bM[0]?(bK.Add(bL),by.Remove(bL),m.PrepareTemplateStrict(bv,{$:1,$0:bL},bM[1][0],{$:1,$0:bM[1][1]},{$:1,$0:bw})):br.warn(bK.Contains(bL)?"Encountered loop when instantiating "+bL:"Local template does not exist: "+bL);}}bx=m.LoadedTemplateFile(bv);by=new u.New$5();bz=bu.querySelectorAll("[ws-template]");for(bA=0,bB=bz.length-1;bA<=bB;bA++){bC=bz[bA];bD=bC.getAttribute("ws-template").toLowerCase();bC.removeAttribute("ws-template");by.set_Item(bD,[[bC],m.FakeRootSingle(bC)]);}bE=bu.querySelectorAll("[ws-children-template]");for(bF=0,bG=bE.length-1;bF<=bG;bF++){bH=bE[bF];bI=bH.getAttribute("ws-children-template").toLowerCase();bH.removeAttribute("ws-children-template");by.set_Item(bI,(bJ=n.ChildrenArray(bH),[bJ,m.FakeRoot(bJ)]));}bK=new B.New$3();while(by.count>0)bw(C.head(by.get_Keys()));};m.LoadedTemplates=function(){z.$cctor();return z.LoadedTemplates;};m.LoadedTemplateFile=function(bu){var bv,bw,bx;bv=(bw=null,[m.LoadedTemplates().TryGetValue(bu,{get:function(){return bw;},set:function(by){bw=by;}}),bw]);return bv[0]?bv[1]:(bx=new u.New$5(),(m.LoadedTemplates().set_Item(bu,bx),bx));};m.FakeRootSingle=function(bu){var bv,bw,bx;bu.removeAttribute("ws-template");bv=bu.getAttribute("ws-replace");bv===null?void 0:(bu.removeAttribute("ws-replace"),bw=bu.parentNode,v.Equals(bw,null)?void 0:(bx=self.document.createElement(bu.tagName),bx.setAttribute("ws-replace",bv),bw.replaceChild(bx,bu)));return m.FakeRoot([bu]);};m.FakeRoot=function(bu){var bv,bw,bx;bv=self.document.createElement("div");for(bw=0,bx=bu.length-1;bw<=bx;bw++)bv.appendChild(A.get(bu,bw));return bv;};m.PrepareTemplateStrict=function(bu,bv,bw,bx,by){var bz,bA;function bB(bG,bH){var bI,bJ,bK,bL,bM,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8;function bN(b9){}while(true)switch(bG){case 0:if(bH!==null){bI=bH.nextSibling;if(v.Equals(bH.nodeType,r.TEXT_NODE))O.convertTextNode(bH);else if(v.Equals(bH.nodeType,r.ELEMENT_NODE))bD(bH);bH=bI;}else return null;break;case 1:bO=P.string(bH.nodeName,{$:1,$0:3},null).toLowerCase();bP=(bJ=bO.indexOf("."),bJ===-1?[bu,bO]:[P.string(bO,null,{$:1,$0:bJ-1}),P.string(bO,{$:1,$0:bJ+1},null)]);bQ=bP[1];bR=bP[0];if(bR!==""&&!m.LoadedTemplates().ContainsKey(bR))return O.failNotLoaded(bQ);else{if(bR===""&&by!=null)by.$0(bQ);bS=m.LoadedTemplates().get_Item(bR);if(!bS.ContainsKey(bQ))return O.failNotLoaded(bQ);else{bT=bS.get_Item(bQ);bU=bT.cloneNode(true);bV=new B.New$3();bW=new u.New$5();bX=bH.attributes;for(bY=0,bZ=bX.length-1;bY<=bZ;bY++){b0=bX.item(bY).name.toLowerCase();bW.set_Item(b0,(b1=bX.item(bY).nodeValue,b1===""?b0:b1.toLowerCase()));!bV.Add(b0)?br.warn("Hole mapped twice",b0):void 0;}for(b2=0,b3=bH.childNodes.length-1;b2<=b3;b2++){b4=bH.childNodes[b2];v.Equals(b4.nodeType,r.ELEMENT_NODE)?!bV.Add(b4.nodeName.toLowerCase())?br.warn("Hole filled twice",bQ):void 0:void 0;}b5=bH.childNodes.length===1&&v.Equals(bH.firstChild.nodeType,r.TEXT_NODE);if(b5){bL=O.fillTextHole(bU,bH.firstChild.textContent,bQ);((function(b9){return function(b_){if(b_!=null)b9(b_.$0);};}((bM=function(b9){return function(b_){return b9.Add(b_);};}(bV),function(b9){return bN(bM(b9));})))(bL));}O.removeHolesExcept(bU,bV);if(!b5){for(b6=0,b7=bH.childNodes.length-1;b6<=b7;b6++){b8=bH.childNodes[b6];v.Equals(b8.nodeType,r.ELEMENT_NODE)?b8.hasAttributes()?O.fillInstanceAttrs(bU,b8):bC(bU,b8):void 0;}}O.mapHoles(bU,bW);O.fill(bU,bH.parentNode,bH);bH.parentNode.removeChild(bH);return;}}break;}}function bC(bG,bH){var bI,bK,bL;function bJ(bM,bN){var bO,bP,bQ;if(bK==="title"&&bH.hasChildNodes()){bO=bs.parseHTML(bH.textContent);bH.removeChild(bH.firstChild);for(bP=0,bQ=bO.length-1;bP<=bQ;bP++)bH.appendChild(A.get(bO,bP));}else null;bD(bH);return O.fill(bH,bM,bN);}bK=bH.nodeName.toLowerCase();n.IterSelector(bG,"[ws-attr-holes]",function(bM){var bN,bO,bP,bQ,bR;bN=_0.SplitChars(bM.getAttribute("ws-attr-holes"),[" "],1);for(bO=0,bP=bN.length-1;bO<=bP;bO++){bQ=A.get(bN,bO);bM.setAttribute(bQ,(bR=new a.RegExp("\\${"+bK+"}","ig"),bM.getAttribute(bQ).replace(bR,bH.textContent)));}});bL=bG.querySelector("[ws-hole="+bK+"]");if(v.Equals(bL,null)){bI=bG.querySelector("[ws-replace="+bK+"]");return v.Equals(bI,null)?null:(bJ(bI.parentNode,bI),void bI.parentNode.removeChild(bI));}else{while(bL.hasChildNodes())bL.removeChild(bL.lastChild);bL.removeAttribute("ws-hole");return bJ(bL,null);}}function bD(bG){if(_0.StartsWith(bG.nodeName.toLowerCase(),"ws-"))bF(bG);else{O.convertAttrs(bG);bE(bG.firstChild);}}function bE(bG){return bB(0,bG);}function bF(bG){return bB(1,bG);}bz=bx==null?m.FakeRoot(bw):bx.$0;bA=(bv==null?"":bv.$0).toLowerCase();m.LoadedTemplateFile(bu).set_Item(bA,bz);A.length(bw)>0?(function(bG){var bH,bI,bJ,bK;while(true){bH=bG.querySelector("[ws-template]");if(v.Equals(bH,null)){bI=bG.querySelector("[ws-children-template]");if(v.Equals(bI,null))return null;else{bJ=bI.getAttribute("ws-children-template");bI.removeAttribute("ws-children-template");m.PrepareTemplateStrict(bu,{$:1,$0:bJ},n.ChildrenArray(bI),null,null);bG=bG;}}else{bK=bH.getAttribute("ws-template");(m.PrepareSingleTemplate(bu,{$:1,$0:bK},bH))(null);bG=bG;}}}(bz),bE(A.get(bw,0))):void 0;};m.PrepareSingleTemplate=function(bu,bv,bw){var bx,by,bz;bx=m.FakeRootSingle(bw);by=[bw];bz={$:1,$0:bx};return function(bA){m.PrepareTemplateStrict(bu,bv,by,bz,bA);};};m.TextHoleRE=function(){z.$cctor();return z.TextHoleRE;};n.CreateElement=function(bu){return n.Doc().createElement(bu);};n.CreateText=function(bu){return n.Doc().createTextNode(bu);};n.Doc=function(){E.$cctor();return E.Doc;};n.ChildrenArray=function(bu){var bv,bw,bx;bv=[];for(bw=0,bx=bu.childNodes.length-1;bw<=bx;bw++)bv.push(bu.childNodes[bw]);return bv;};n.IterSelector=function(bu,bv,bw){var bx,by,bz;bx=bu.querySelectorAll(bv);for(by=0,bz=bx.length-1;by<=bz;by++)bw(bx[by]);};n.InsertAt=function(bu,bv,bw){var bx;if(!(bw.parentNode===bu&&bv===(bx=bw.nextSibling,v.Equals(bx,null)?null:bx)))bu.insertBefore(bw,bv);};n.RemoveNode=function(bu,bv){if(bv.parentNode===bu)bu.removeChild(bv);};o=h.AttrProxy=bq.Class({},null,o);o.Concat=function(bu){var bv;bv=x.ofSeqNonCopying(bu);return x.TreeReduce(J.EmptyAttr(),o.Append,bv);};o.Append=function(bu,bv){return J.AppendTree(bu,bv);};p.Const=function(bu){var bv;bv=y.New({$:0,$0:bu});return function(){return bv;};};p.Map2Unit=function(bu,bv){return p.CreateLazy(function(){return y.Map2Unit(bu(),bv());});};p.Sink=function(bu,bv){function bw(){y.WhenRun(bv(),bu,function(){_8.scheduler().Fork(bw);});}_8.scheduler().Fork(bw);};p.CreateLazy=function(bu){var bv;bv={c:null,o:bu};return function(){var bw,bx;bw=bv.c;return bw===null?(bw=bv.o(),bv.c=bw,(bx=bw.s,bx!=null&&bx.$==0)?bv.o=null:y.WhenObsoleteRun(bw,function(){bv.c=null;}),bw):bw;};};s.GetFieldValues=function(bu){var bv,bw;bv=[];for(var bx in bu)bv.push(bu[bx]);return bv;};u=t.Dictionary=bq.Class({set_Item:function(bu,bv){this.set(bu,bv);},ContainsKey:function(bu){var bv,bw;bv=this;bw=this.data[this.hash(bu)];return bw==null?false:A.exists(function(bx){return bv.equals.apply(null,[(f.KeyValue(bx))[0],bu]);},bw);},TryGetValue:function(bu,bv){var bw,bx,by;bw=this;bx=this.data[this.hash(bu)];return bx==null?false:(by=A.tryPick(function(bz){var bA;bA=f.KeyValue(bz);return bw.equals.apply(null,[bA[0],bu])?{$:1,$0:bA[1]}:null;},bx),by!=null&&by.$==1&&(bv.set(by.$0),true));},Remove:function(bu){return this.remove(bu);},get_Keys:function(){return new R.New(this);},set:function(bu,bv){var bw,bx,by,bz;bw=this;bx=this.hash(bu);by=this.data[bx];by==null?(this.count=this.count+1,this.data[bx]=new a.Array({K:bu,V:bv})):(bz=A.tryFindIndex(function(bA){return bw.equals.apply(null,[(f.KeyValue(bA))[0],bu]);},by),bz==null?(this.count=this.count+1,by.push({K:bu,V:bv})):by[bz.$0]={K:bu,V:bv});},remove:function(bu){var bv,bw,bx,by;bv=this;bw=this.hash(bu);bx=this.data[bw];return bx==null?false:(by=A.filter(function(bz){return!bv.equals.apply(null,[(f.KeyValue(bz))[0],bu]);},bx),A.length(by)<bx.length&&(this.count=this.count-1,this.data[bw]=by,true));},get_Item:function(bu){return this.get(bu);},get:function(bu){var bv,bw;bv=this;bw=this.data[this.hash(bu)];return bw==null?N.notPresent():A.pick(function(bx){var by;by=f.KeyValue(bx);return bv.equals.apply(null,[by[0],bu])?{$:1,$0:by[1]}:null;},bw);},GetEnumerator:function(){return Q.Get0(this);},GetEnumerator0:function(){return Q.Get0(A.concat(s.GetFieldValues(this.data)));}},g,u);u.New$5=bq.Ctor(function(){u.New$6.call(this,[],v.Equals,v.Hash);},u);u.New$6=bq.Ctor(function(bu,bv,bw){var bx,by;g.New.call(this);this.equals=bv;this.hash=bw;this.count=0;this.data=[];bx=Q.Get(bu);try{while(bx.MoveNext()){by=bx.Current();this.set(by.K,by.V);}}finally{if(typeof bx=="object"&&"Dispose"in bx)bx.Dispose();}},u);v.Equals=function(bu,bv){var bw,bx,by,bz;if(bu===bv)return true;else{bw=typeof bu;if(bw=="object"){if(bu===null||bu===void 0||bv===null||bv===void 0)return false;else if("Equals"in bu)return bu.Equals(bv);else if(bu instanceof a.Array&&bv instanceof a.Array)return v.arrayEquals(bu,bv);else if(bu instanceof a.Date&&bv instanceof a.Date)return v.dateEquals(bu,bv);else{bx=[true];for(var bA in bu)if(function(bB){bx[0]=!bu.hasOwnProperty(bB)||bv.hasOwnProperty(bB)&&v.Equals(bu[bB],bv[bB]);return!bx[0];}(bA))break;if(bx[0]){for(var bB in bv)if(function(bC){bx[0]=!bv.hasOwnProperty(bC)||bu.hasOwnProperty(bC);return!bx[0];}(bB))break;}return bx[0];}}else return bw=="function"&&("$Func"in bu?bu.$Func===bv.$Func&&bu.$Target===bv.$Target:"$Invokes"in bu&&"$Invokes"in bv&&v.arrayEquals(bu.$Invokes,bv.$Invokes));}};v.arrayEquals=function(bu,bv){var bw,bx;if(A.length(bu)===A.length(bv)){bw=true;bx=0;while(bw&&bx<A.length(bu)){!v.Equals(A.get(bu,bx),A.get(bv,bx))?bw=false:void 0;bx=bx+1;}return bw;}else return false;};v.dateEquals=function(bu,bv){return bu.getTime()===bv.getTime();};v.Hash=function(bu){var bv;bv=typeof bu;return bv=="function"?0:bv=="boolean"?bu?1:0:bv=="number"?bu:bv=="string"?v.hashString(bu):bv=="object"?bu==null?0:bu instanceof a.Array?v.hashArray(bu):v.hashObject(bu):0;};v.hashString=function(bu){var bv,bw,bx;if(bu===null)return 0;else{bv=5381;for(bw=0,bx=bu.length-1;bw<=bx;bw++)bv=v.hashMix(bv,bu[bw].charCodeAt());return bv;}};v.hashArray=function(bu){var bv,bw,bx;bv=-34948909;for(bw=0,bx=A.length(bu)-1;bw<=bx;bw++)bv=v.hashMix(bv,v.Hash(A.get(bu,bw)));return bv;};v.hashObject=function(bu){var bv,bw;if("GetHashCode"in bu)return bu.GetHashCode();else{bv=[0];for(var bx in bu)if(function(by){bv[0]=v.hashMix(v.hashMix(bv[0],v.hashString(by)),v.Hash(bu[by]));return false;}(bx))break;return bv[0];}};v.hashMix=function(bu,bv){return(bu<<5)+bu+bv;};v.Compare=function(bu,bv){var bw,bx,by,bz,bA,bB;if(bu===bv)return 0;else{bx=typeof bu;switch(bx=="function"?1:bx=="boolean"?2:bx=="number"?2:bx=="string"?2:bx=="object"?3:0){case 0:return typeof bv=="undefined"?0:-1;case 1:return f.FailWith("Cannot compare function values.");case 2:return bu<bv?-1:1;case 3:if(bu===null)by=-1;else if(bv===null)by=1;else if("CompareTo"in bu)by=bu.CompareTo(bv);else if("CompareTo0"in bu)by=bu.CompareTo0(bv);else if(bu instanceof a.Array&&bv instanceof a.Array)by=v.compareArrays(bu,bv);else if(bu instanceof a.Date&&bv instanceof a.Date)by=v.compareDates(bu,bv);else{bz=[0];for(var bC in bu)if(function(bD){return!bu.hasOwnProperty(bD)?false:!bv.hasOwnProperty(bD)?(bz[0]=1,true):(bz[0]=v.Compare(bu[bD],bv[bD]),bz[0]!==0);}(bC))break;if(bz[0]===0){for(var bD in bv)if(function(bE){return!bv.hasOwnProperty(bE)?false:!bu.hasOwnProperty(bE)&&(bz[0]=-1,true);}(bD))break;}by=bz[0];}return by;}}};v.compareArrays=function(bu,bv){var bw,bx;if(A.length(bu)<A.length(bv))return -1;else if(A.length(bu)>A.length(bv))return 1;else{bw=0;bx=0;while(bw===0&&bx<A.length(bu)){bw=v.Compare(A.get(bu,bx),A.get(bv,bx));bx=bx+1;}return bw;}};v.compareDates=function(bu,bv){return v.Compare(bu.getTime(),bv.getTime());};p=h.View=bq.Class({},null,p);w=h.Elt=bq.Class({},i,w);w.New=function(bu,bv,bw){var bx,by;bx=F.CreateElemNode(bu,bv,bw.docNode);by=I.Create(bw.updates);return new w.New$1({$:1,$0:bx},p.Map2Unit(J.Updates(bx.Attr),by.v),bu,by);};w.New$1=bq.Ctor(function(bu,bv,bw,bx){i.New.call(this,bu,bv);this.docNode$1=bu;this.updates$1=bv;this.elt=bw;this.rvUpdates=bx;},w);x.ofSeqNonCopying=function(bu){var bv,bw;if(bu instanceof a.Array)return bu;else if(bu instanceof L)return A.ofList(bu);else if(bu===null)return[];else{bv=[];bw=Q.Get(bu);try{while(bw.MoveNext())bv.push(bw.Current());return bv;}finally{if(typeof bw=="object"&&"Dispose"in bw)bw.Dispose();}}};x.TreeReduce=function(bu,bv,bw){var bx;function by(bz,bA){var bB,bC;return bA<=0?bu:bA===1&&(bz>=0&&bz<bx)?A.get(bw,bz):(bC=bA/2>>0,bv(by(bz,bC),by(bz+bC,bA-bC)));}bx=A.length(bw);return by(0,bx);};x.MapTreeReduce=function(bu,bv,bw,bx){var by;function bz(bA,bB){var bC,bD;return bB<=0?bv:bB===1&&(bA>=0&&bA<by)?bu(A.get(bx,bA)):(bD=bB/2>>0,bw(bz(bA,bD),bz(bA+bD,bB-bD)));}by=A.length(bx);return bz(0,by);};y.Copy=function(bu){var bv,bw,bx;bv=bu.s;return bv==null?bu:bv!=null&&bv.$==2?(bw=y.New({$:2,$0:bv.$0,$1:[]}),(y.WhenObsolete(bu,bw),bw)):bv!=null&&bv.$==3?(bx=y.New({$:3,$0:[],$1:[]}),(y.When(bu,function(by){y.MarkDone(bx,bu,by);},bx),bx)):bu;};y.WhenObsoleteRun=function(bu,bv){var bw;bw=bu.s;bw==null?bv():bw!=null&&bw.$==2?bw.$1.push(bv):bw!=null&&bw.$==3?bw.$1.push(bv):void 0;};y.Map2Unit=function(bu,bv){var bw,bx,by;function bz(){var bA,bB,bC;if(!(bA=by.s,bA!=null&&bA.$==0||bA!=null&&bA.$==2)){bB=y.ValueAndForever(bu);bC=y.ValueAndForever(bv);bB!=null&&bB.$==1?bC!=null&&bC.$==1?bB.$0[1]&&bC.$0[1]?y.MarkForever(by,null):y.MarkReady(by,null):void 0:void 0;}}bw=bu.s;bx=bv.s;return bw!=null&&bw.$==0?bx!=null&&bx.$==0?y.New({$:0,$0:null}):bv:bx!=null&&bx.$==0?bu:(by=y.New({$:3,$0:[],$1:[]}),(y.When(bu,bz,by),y.When(bv,bz,by),by));};y.WhenRun=function(bu,bv,bw){var bx;bx=bu.s;bx==null?bw():bx!=null&&bx.$==2?(bx.$1.push(bw),bv(bx.$0)):bx!=null&&bx.$==3?(bx.$0.push(bv),bx.$1.push(bw)):bv(bx.$0);};y.WhenObsolete=function(bu,bv){var bw;bw=bu.s;bw==null?y.Obsolete(bv):bw!=null&&bw.$==2?y.EnqueueSafe(bw.$1,bv):bw!=null&&bw.$==3?y.EnqueueSafe(bw.$1,bv):void 0;};y.When=function(bu,bv,bw){var bx;bx=bu.s;bx==null?y.Obsolete(bw):bx!=null&&bx.$==2?(y.EnqueueSafe(bx.$1,bw),bv(bx.$0)):bx!=null&&bx.$==3?(bx.$0.push(bv),y.EnqueueSafe(bx.$1,bw)):bv(bx.$0);};y.MarkDone=function(bu,bv,bw){var bx;if(bx=bv.s,bx!=null&&bx.$==0)y.MarkForever(bu,bw);else y.MarkReady(bu,bw);};y.ValueAndForever=function(bu){var bv;bv=bu.s;return bv!=null&&bv.$==0?{$:1,$0:[bv.$0,true]}:bv!=null&&bv.$==2?{$:1,$0:[bv.$0,false]}:null;};y.MarkForever=function(bu,bv){var bw,bx,by,bz;bw=bu.s;if(bw!=null&&bw.$==3){bu.s={$:0,$0:bv};bx=bw.$0;for(by=0,bz=A.length(bx)-1;by<=bz;by++)(A.get(bx,by))(bv);}else void 0;};y.MarkReady=function(bu,bv){var bw,bx,by,bz;bw=bu.s;if(bw!=null&&bw.$==3){bu.s={$:2,$0:bv,$1:bw.$1};bx=bw.$0;for(by=0,bz=A.length(bx)-1;by<=bz;by++)(A.get(bx,by))(bv);}else void 0;};y.EnqueueSafe=function(bu,bv){var bw,bx,by,bz;bu.push(bv);if(bu.length%20===0){bw=bu.slice(0);bi.Clear(bu);for(bx=0,by=A.length(bw)-1;bx<=by;bx++){bz=A.get(bw,bx);typeof bz=="object"?function(bA){if(bA.s)bu.push(bA);}(bz):function(bA){bu.push(bA);}(bz);}}else void 0;};z.$cctor=function(){z.$cctor=a.ignore;z.LoadedTemplates=new u.New$5();z.LocalTemplatesLoaded=false;z.TextHoleRE="\\${([^}]+)}";};A.get=function(bu,bv){A.checkBounds(bu,bv);return bu[bv];};A.length=function(bu){return bu.dims===2?bu.length*bu.length:bu.length;};A.checkBounds=function(bu,bv){if(bv<0||bv>=bu.length)f.FailWith("Index was outside the bounds of the array.");};A.set=function(bu,bv,bw){A.checkBounds(bu,bv);bu[bv]=bw;};B=t.HashSet=bq.Class({Add:function(bu){return this.add(bu);},Contains:function(bu){var bv;bv=this.data[this.hash(bu)];return bv==null?false:this.arrContains(bu,bv);},add:function(bu){var bv,bw;bv=this.hash(bu);bw=this.data[bv];return bw==null?(this.data[bv]=[bu],this.count=this.count+1,true):this.arrContains(bu,bw)?false:(bw.push(bu),this.count=this.count+1,true);},arrContains:function(bu,bv){var bw,bx,by,bz;bw=true;bx=0;bz=bv.length;while(bw&&bx<bz)if(this.equals.apply(null,[bv[bx],bu]))bw=false;else bx=bx+1;return!bw;},ExceptWith:function(bu){var bv;bv=Q.Get(bu);try{while(bv.MoveNext())this.Remove(bv.Current());}finally{if(typeof bv=="object"&&"Dispose"in bv)bv.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bu){var bv,bw,bx,by;bv=0;bw=_.concat(this.data);for(bx=0,by=bw.length-1;bx<=by;bx++)A.set(bu,bx,bw[bx]);},IntersectWith:function(bu){var bv,bw,bx,by,bz;bv=new B.New$4(bu,this.equals,this.hash);bw=_.concat(this.data);for(bx=0,by=bw.length-1;bx<=by;bx++){bz=bw[bx];!bv.Contains(bz)?this.Remove(bz):void 0;}},Remove:function(bu){var bv;bv=this.data[this.hash(bu)];return bv==null?false:this.arrRemove(bu,bv)&&(this.count=this.count-1,true);},arrRemove:function(bu,bv){var bw,bx,by,bz;bw=true;bx=0;bz=bv.length;while(bw&&bx<bz)if(this.equals.apply(null,[bv[bx],bu])){bv.splice.apply(bv,[bx,1]);bw=false;}else bx=bx+1;return!bw;},GetEnumerator:function(){return Q.Get(_.concat(this.data));},GetEnumerator0:function(){return Q.Get(_.concat(this.data));}},g,B);B.New$3=bq.Ctor(function(){B.New$4.call(this,[],v.Equals,v.Hash);},B);B.New$4=bq.Ctor(function(bu,bv,bw){var bx;g.New.call(this);this.equals=bv;this.hash=bw;this.data=[];this.count=0;bx=Q.Get(bu);try{while(bx.MoveNext())this.add(bx.Current());}finally{if(typeof bx=="object"&&"Dispose"in bx)bx.Dispose();}},B);B.New$2=bq.Ctor(function(bu){B.New$4.call(this,bu,v.Equals,v.Hash);},B);C.head=function(bu){var bv;bv=Q.Get(bu);try{return bv.MoveNext()?bv.Current():C.insufficient();}finally{if(typeof bv=="object"&&"Dispose"in bv)bv.Dispose();}};C.fold=function(bu,bv,bw){var bx,by;bx=bv;by=Q.Get(bw);try{while(by.MoveNext())bx=bu(bx,by.Current());return bx;}finally{if(typeof by=="object"&&"Dispose"in by)by.Dispose();}};C.iter=function(bu,bv){var bw;bw=Q.Get(bv);try{while(bw.MoveNext())bu(bw.Current());}finally{if(typeof bw=="object"&&"Dispose"in bw)bw.Dispose();}};C.map=function(bu,bv){return{GetEnumerator:function(){var bw;bw=Q.Get(bv);return new _6.New(null,null,function(bx){return bw.MoveNext()&&(bx.c=bu(bw.Current()),true);},function(){bw.Dispose();});}};};C.max=function(bu){var bv,bw,bx;bv=Q.Get(bu);try{if(!bv.MoveNext())C.seqEmpty();bw=bv.Current();while(bv.MoveNext()){bx=bv.Current();v.Compare(bx,bw)===1?bw=bx:void 0;}return bw;}finally{if(typeof bv=="object"&&"Dispose"in bv)bv.Dispose();}};C.seqEmpty=function(){return f.FailWith("The input sequence was empty.");};E.$cctor=function(){E.$cctor=a.ignore;E.Doc=self.document;};F.LinkElement=function(bu,bv){F.InsertDoc(bu,bv,null);};F.CreateElemNode=function(bu,bv,bw){var bx;F.LinkElement(bu,bw);bx=J.Insert(bu,bv);return G.New(bx,bw,null,bu,Y.Int(),bq.GetOptional(bx.OnAfterRender));};F.InsertDoc=function(bu,bv,bw){var bx;return bv!=null&&bv.$==1?F.InsertNode(bu,bv.$0.El,bw):bv!=null&&bv.$==2?(bx=bv.$0,(bx.Dirty=false,F.InsertDoc(bu,bx.Current,bw))):bv==null?bw:bv!=null&&bv.$==4?F.InsertNode(bu,bv.$0.Text,bw):bv!=null&&bv.$==5?F.InsertNode(bu,bv.$0,bw):bv!=null&&bv.$==6?A.foldBack(function(by,bz){return by==null||by.constructor===M?F.InsertDoc(bu,by,bz):F.InsertNode(bu,by,bz);},bv.$0.Els,bw):F.InsertDoc(bu,bv.$0,F.InsertDoc(bu,bv.$1,bw));};F.CreateRunState=function(bu,bv){return _2.New(_3.get_Empty(),F.CreateElemNode(bu,J.EmptyAttr(),bv));};F.PerformAnimatedUpdate=function(bu,bv,bw){var bx;return S.get_UseAnimations()?(bx=null,_8.Delay(function(){var by,bz,bA;by=_3.FindAll(bw);bz=F.ComputeChangeAnim(bv,by);bA=F.ComputeEnterAnim(bv,by);return _8.Bind(S.Play(S.Append(bz,F.ComputeExitAnim(bv,by))),function(){return _8.Bind(F.SyncElemNodesNextFrame(bu,bv),function(){return _8.Bind(S.Play(bA),function(){bv.PreviousNodes=by;return _8.Return(null);});});});})):F.SyncElemNodesNextFrame(bu,bv);};F.PerformSyncUpdate=function(bu,bv,bw){var bx;bx=_3.FindAll(bw);F.SyncElemNode(bu,bv.Top);bv.PreviousNodes=bx;};F.InsertNode=function(bu,bv,bw){n.InsertAt(bu,bw,bv);return bv;};F.SyncElemNodesNextFrame=function(bu,bv){function bw(bx){a.requestAnimationFrame(function(){F.SyncElemNode(bu,bv.Top);bx();});}return T.BatchUpdatesEnabled()?_8.FromContinuations(function(bx,by,bz){return bw.apply(null,[bx,by,bz]);}):(F.SyncElemNode(bu,bv.Top),_8.Return(null));};F.ComputeExitAnim=function(bu,bv){return S.Concat(A.map(function(bw){return J.GetExitAnim(bw.Attr);},_3.ToArray(_3.Except(bv,_3.Filter(function(bw){return J.HasExitAnim(bw.Attr);},bu.PreviousNodes)))));};F.ComputeEnterAnim=function(bu,bv){return S.Concat(A.map(function(bw){return J.GetEnterAnim(bw.Attr);},_3.ToArray(_3.Except(bu.PreviousNodes,_3.Filter(function(bw){return J.HasEnterAnim(bw.Attr);},bv)))));};F.ComputeChangeAnim=function(bu,bv){var bw;function bx(by){return J.HasChangeAnim(by.Attr);}bw=function(by){return _3.Filter(bx,by);};return S.Concat(A.map(function(by){return J.GetChangeAnim(by.Attr);},_3.ToArray(_3.Intersect(bw(bu.PreviousNodes),bw(bv)))));};F.SyncElemNode=function(bu,bv){!bu?F.SyncElement(bv):void 0;F.Sync(bv.Children);F.AfterRender(bv);};F.SyncElement=function(bu){function bv(bw){function bx(by){var bz,bA;return by!=null&&by.$==0?bx(by.$0)||bx(by.$1):by!=null&&by.$==2?(bz=by.$0,bz.Dirty||bx(bz.Current)):by!=null&&by.$==6&&(bA=by.$0,bA.Dirty||A.exists(bv,bA.Holes));}return bx(bw.Children);}J.Sync(bu.El,bu.Attr);bv(bu)?F.DoSyncElement(bu):void 0;};F.Sync=function(bu){var bv,bw;if(bu!=null&&bu.$==1)F.SyncElemNode(false,bu.$0);else if(bu!=null&&bu.$==2)F.Sync(bu.$0.Current);else if(bu==null);else if(bu!=null&&bu.$==5);else if(bu!=null&&bu.$==4){bv=bu.$0;bv.Dirty?(bv.Text.nodeValue=bv.Value,bv.Dirty=false):void 0;}else if(bu!=null&&bu.$==6){bw=bu.$0;A.iter(function(bx){F.SyncElemNode(false,bx);},bw.Holes);A.iter(function(bx){J.Sync(bx[0],bx[1]);},bw.Attrs);F.AfterRender(bw);}else{F.Sync(bu.$0);F.Sync(bu.$1);}};F.AfterRender=function(bu){var bv;bv=bq.GetOptional(bu.Render);bv!=null&&bv.$==1?(bv.$0(bu.El),bq.SetOptional(bu,"Render",null)):void 0;};F.DoSyncElement=function(bu){var bv,bw,bx;function by(bz,bA){var bB,bC;return bz!=null&&bz.$==1?bz.$0.El:bz!=null&&bz.$==2?(bB=bz.$0,bB.Dirty?(bB.Dirty=false,F.InsertDoc(bv,bB.Current,bA)):by(bB.Current,bA)):bz==null?bA:bz!=null&&bz.$==4?bz.$0.Text:bz!=null&&bz.$==5?bz.$0:bz!=null&&bz.$==6?(bC=bz.$0,(bC.Dirty?bC.Dirty=false:void 0,A.foldBack(function(bD,bE){return bD==null||bD.constructor===M?by(bD,bE):bD;},bC.Els,bA))):by(bz.$0,by(bz.$1,bA));}bv=bu.El;bh.Iter((bw=bu.El,function(bz){n.RemoveNode(bw,bz);}),bh.Except(bh.DocChildren(bu),bh.Children(bu.El,bq.GetOptional(bu.Delimiters))));by(bu.Children,(bx=bq.GetOptional(bu.Delimiters),bx!=null&&bx.$==1?bx.$0[1]:null));};G=h.DocElemNode=bq.Class({Equals:function(bu){return this.ElKey===bu.ElKey;},GetHashCode:function(){return this.ElKey;}},null,G);G.New=function(bu,bv,bw,bx,by,bz){var bA;return new G((bA={Attr:bu,Children:bv,El:bx,ElKey:by},(bq.SetOptional(bA,"Delimiters",bw),bq.SetOptional(bA,"Render",bz),bA)));};I=h.Updates=bq.Class({},null,I);I.Create=function(bu){var bv;bv=null;bv=I.New(bu,null,function(){var bw;bw=bv.s;return bw===null?(bw=y.Copy(bv.c()),bv.s=bw,y.WhenObsoleteRun(bw,function(){bv.s=null;}),bw):bw;});return bv;};I.New=function(bu,bv,bw){return new I({c:bu,s:bv,v:bw});};J.Updates=function(bu){return x.MapTreeReduce(function(bv){return bv.NChanged();},p.Const(),p.Map2Unit,bu.DynNodes);};J.AppendTree=function(bu,bv){var bw;return bu===null?bv:bv===null?bu:(bw=new o({$:2,$0:bu,$1:bv}),(J.SetFlags(bw,J.Flags(bu)|J.Flags(bv)),bw));};J.EmptyAttr=function(){Z.$cctor();return Z.EmptyAttr;};J.Insert=function(bu,bv){var bw,bx,by;function bz(bA){if(!(bA===null))if(bA!=null&&bA.$==1)bw.push(bA.$0);else if(bA!=null&&bA.$==2){bz(bA.$0);bz(bA.$1);}else if(bA!=null&&bA.$==3)bA.$0(bu);else if(bA!=null&&bA.$==4)bx.push(bA.$0);}bw=[];bx=[];bz(bv);by=bw.slice(0);return X.New(bu,J.Flags(bv),by,bx.length===0?null:{$:1,$0:function(bA){C.iter(function(bB){bB(bA);},bx);}});};J.SetFlags=function(bu,bv){bu.flags=bv;};J.Flags=function(bu){return bu!==null&&bu.hasOwnProperty("flags")?bu.flags:0;};J.HasExitAnim=function(bu){var bv;bv=2;return(bu.DynFlags&bv)===bv;};J.GetExitAnim=function(bu){return J.GetAnim(bu,function(bv,bw){return bv.NGetExitAnim(bw);});};J.HasEnterAnim=function(bu){var bv;bv=1;return(bu.DynFlags&bv)===bv;};J.GetEnterAnim=function(bu){return J.GetAnim(bu,function(bv,bw){return bv.NGetEnterAnim(bw);});};J.HasChangeAnim=function(bu){var bv;bv=4;return(bu.DynFlags&bv)===bv;};J.GetChangeAnim=function(bu){return J.GetAnim(bu,function(bv,bw){return bv.NGetChangeAnim(bw);});};J.GetAnim=function(bu,bv){return S.Concat(A.map(function(bw){return bv(bw,bu.DynElem);},bu.DynNodes));};J.Sync=function(bu,bv){A.iter(function(bw){bw.NSync(bu);},bv.DynNodes);};L=K.T=bq.Class({GetEnumerator:function(){return new _6.New(this,null,function(bu){var bv;bv=bu.s;return bv.$==0?false:(bu.c=bv.$0,bu.s=bv.$1,true);},void 0);},GetEnumerator0:function(){return Q.Get(this);}},null,L);A.ofList=function(bu){var bv,bw;bw=[];bv=bu;while(!(bv.$==0)){bw.push(K.head(bv));bv=K.tail(bv);}return bw;};A.exists=function(bu,bv){var bw,bx,by,bz;bw=false;bx=0;bz=A.length(bv);while(!bw&&bx<bz)if(bu(bv[bx]))bw=true;else bx=bx+1;return bw;};A.tryPick=function(bu,bv){var bw,bx,by;bw=null;bx=0;while(bx<bv.length&&bw==null){by=bu(bv[bx]);by!=null&&by.$==1?bw=by:void 0;bx=bx+1;}return bw;};A.tryFindIndex=function(bu,bv){var bw,bx;bw=null;bx=0;while(bx<bv.length&&bw==null){bu(bv[bx])?bw={$:1,$0:bx}:void 0;bx=bx+1;}return bw;};A.filter=function(bu,bv){var bw,bx,by;bw=[];for(bx=0,by=bv.length-1;bx<=by;bx++)if(bu(bv[bx]))bw.push(bv[bx]);return bw;};A.map=function(bu,bv){var bw,bx,by;bw=new a.Array(bv.length);for(bx=0,by=bv.length-1;bx<=by;bx++)bw[bx]=bu(bv[bx]);return bw;};A.iter=function(bu,bv){var bw,bx;for(bw=0,bx=bv.length-1;bw<=bx;bw++)bu(bv[bw]);};A.foldBack=function(bu,bv,bw){var bx,by,bz,bA,bB;bx=bw;bz=bv.length;for(bA=1,bB=bz;bA<=bB;bA++)bx=bu(bv[bz-bA],bx);return bx;};A.pick=function(bu,bv){var bw;bw=A.tryPick(bu,bv);return bw==null?f.FailWith("KeyNotFoundException"):bw.$0;};A.concat=function(bu){return a.Array.prototype.concat.apply([],A.ofSeq(bu));};A.ofSeq=function(bu){var bv,bw;if(bu instanceof a.Array)return bu.slice();else if(bu instanceof L)return A.ofList(bu);else{bv=[];bw=Q.Get(bu);try{while(bw.MoveNext())bv.push(bw.Current());return bv;}finally{if(typeof bw=="object"&&"Dispose"in bw)bw.Dispose();}}};A.choose=function(bu,bv){var bw,bx,by,bz;bw=[];for(bx=0,by=bv.length-1;bx<=by;bx++){bz=bu(bv[bx]);bz==null?void 0:bw.push(bz.$0);}return bw;};A.create=function(bu,bv){var bw,bx,by;bw=new a.Array(bu);for(bx=0,by=bu-1;bx<=by;bx++)bw[bx]=bv;return bw;};A.init=function(bu,bv){var bw,bx,by;bu<0?f.FailWith("Negative size given."):null;bw=new a.Array(bu);for(bx=0,by=bu-1;bx<=by;bx++)bw[bx]=bv(bx);return bw;};A.forall=function(bu,bv){var bw,bx,by,bz;bw=true;bx=0;bz=A.length(bv);while(bw&&bx<bz)if(bu(bv[bx]))bx=bx+1;else bw=false;return bw;};N.notPresent=function(){return f.FailWith("The given key was not present in the dictionary.");};O.convertTextNode=function(bu){var bv,bw,bx,by,bz,bA;bv=null;bw=0;by=bu.textContent;bz=new a.RegExp(m.TextHoleRE(),"g");while(bv=bz.exec(by),bv!==null){bu.parentNode.insertBefore(self.document.createTextNode(P.string(by,{$:1,$0:bw},{$:1,$0:bz.lastIndex-A.get(bv,0).length-1})),bu);bw=bz.lastIndex;bA=self.document.createElement("span");bA.setAttribute("ws-replace",A.get(bv,1).toLowerCase());bu.parentNode.insertBefore(bA,bu);}bz.lastIndex=0;bu.textContent=P.string(by,{$:1,$0:bw},null);};O.failNotLoaded=function(bu){br.warn("Instantiating non-loaded template",bu);};O.fillTextHole=function(bu,bv,bw){var bx;bx=bu.querySelector("[ws-replace]");return v.Equals(bx,null)?(br.warn("Filling non-existent text hole",bw),null):(bx.parentNode.replaceChild(new a.Text(bv),bx),{$:1,$0:bx.getAttribute("ws-replace")});};O.removeHolesExcept=function(bu,bv){function bw(bx){n.IterSelector(bu,"["+bx+"]",function(by){if(!bv.Contains(by.getAttribute(bx)))by.removeAttribute(bx);});}bw("ws-attr");bw("ws-onafterrender");bw("ws-var");n.IterSelector(bu,"[ws-hole]",function(bx){if(!bv.Contains(bx.getAttribute("ws-hole"))){bx.removeAttribute("ws-hole");while(bx.hasChildNodes())bx.removeChild(bx.lastChild);}});n.IterSelector(bu,"[ws-replace]",function(bx){if(!bv.Contains(bx.getAttribute("ws-replace")))bx.parentNode.removeChild(bx);});n.IterSelector(bu,"[ws-on]",function(bx){bx.setAttribute("ws-on",_0.concat(" ",A.filter(function(by){return bv.Contains(A.get(_0.SplitChars(by,[":"],1),1));},_0.SplitChars(bx.getAttribute("ws-on"),[" "],1))));});n.IterSelector(bu,"[ws-attr-holes]",function(bx){var by,bz,bA,bB,bC;by=_0.SplitChars(bx.getAttribute("ws-attr-holes"),[" "],1);for(bz=0,bA=by.length-1;bz<=bA;bz++){bB=A.get(by,bz);bx.setAttribute(bB,(bC=new a.RegExp(m.TextHoleRE(),"g"),bx.getAttribute(bB).replace(bC,function(bD,bE){return bv.Contains(bE)?bD:"";})));}});};O.fillInstanceAttrs=function(bu,bv){var bw,bx,by,bz,bA;O.convertAttrs(bv);bw=bv.nodeName.toLowerCase();bx=bu.querySelector("[ws-attr="+bw+"]");if(v.Equals(bx,null))br.warn("Filling non-existent attr hole",bw);else{bx.removeAttribute("ws-attr");for(by=0,bz=bv.attributes.length-1;by<=bz;by++){bA=bv.attributes.item(by);bA.name==="class"&&bx.hasAttribute("class")?bx.setAttribute("class",bx.getAttribute("class")+" "+bA.nodeValue):bx.setAttribute(bA.name,bA.nodeValue);}}};O.mapHoles=function(bu,bv){function bw(bx){n.IterSelector(bu,"["+bx+"]",function(by){var bz,bA;bz=(bA=null,[bv.TryGetValue(by.getAttribute(bx).toLowerCase(),{get:function(){return bA;},set:function(bB){bA=bB;}}),bA]);bz[0]?by.setAttribute(bx,bz[1]):void 0;});}bw("ws-hole");bw("ws-replace");bw("ws-attr");bw("ws-onafterrender");bw("ws-var");n.IterSelector(bu,"[ws-on]",function(bx){bx.setAttribute("ws-on",_0.concat(" ",A.map(function(by){var bz,bA,bB;bz=_0.SplitChars(by,[":"],1);bA=(bB=null,[bv.TryGetValue(A.get(bz,1),{get:function(){return bB;},set:function(bC){bB=bC;}}),bB]);return bA[0]?A.get(bz,0)+":"+bA[1]:by;},_0.SplitChars(bx.getAttribute("ws-on"),[" "],1))));});n.IterSelector(bu,"[ws-attr-holes]",function(bx){var by,bz,bA;by=_0.SplitChars(bx.getAttribute("ws-attr-holes"),[" "],1);for(bz=0,bA=by.length-1;bz<=bA;bz++)(function(){var bB;function bC(bD,bE){var bF;bF=f.KeyValue(bE);return bD.replace(new a.RegExp("\\${"+bF[0]+"}","ig"),"${"+bF[1]+"}");}bB=A.get(by,bz);return bx.setAttribute(bB,(((bq.Curried3(C.fold))(bC))(bx.getAttribute(bB)))(bv));}());});};O.fill=function(bu,bv,bw){while(true)if(bu.hasChildNodes())bw=bv.insertBefore(bu.lastChild,bw);else return null;};O.convertAttrs=function(bu){var bw,bx,by,bz,bA,bB,bC,bD;function bv(bE){var bF;bF=bu.getAttribute(bE);bF===null?void 0:bu.setAttribute(bE,bF.toLowerCase());}bw=bu.attributes;bx=[];by=[];bz=[];for(bA=0,bB=bw.length-1;bA<=bB;bA++){bC=bw.item(bA);_0.StartsWith(bC.nodeName,"ws-on")&&bC.nodeName!=="ws-onafterrender"&&bC.nodeName!=="ws-on"?(bx.push(bC.nodeName),by.push(P.string(bC.nodeName,{$:1,$0:"ws-on".length},null)+":"+bC.nodeValue.toLowerCase())):!_0.StartsWith(bC.nodeName,"ws-")&&(new a.RegExp(m.TextHoleRE())).test(bC.nodeValue)?(bC.nodeValue=(bD=new a.RegExp(m.TextHoleRE(),"g"),bC.nodeValue.replace(bD,function(bE,bF){return"${"+bF.toLowerCase()+"}";})),bz.push(bC.nodeName)):void 0;}!(by.length==0)?bu.setAttribute("ws-on",_0.concat(" ",by)):void 0;!(bz.length==0)?bu.setAttribute("ws-attr-holes",_0.concat(" ",bz)):void 0;bv("ws-hole");bv("ws-replace");bv("ws-attr");bv("ws-onafterrender");bv("ws-var");A.iter(function(bE){bu.removeAttribute(bE);},bx);};P.string=function(bu,bv,bw){return bv==null?bw!=null&&bw.$==1?bu.slice(0,bw.$0+1):"":bw==null?bu.slice(bv.$0):bu.slice(bv.$0,bw.$0+1);};Q.Get=function(bu){return bu instanceof a.Array?Q.ArrayEnumerator(bu):v.Equals(typeof bu,"string")?Q.StringEnumerator(bu):bu.GetEnumerator();};Q.ArrayEnumerator=function(bu){return new _6.New(0,null,function(bv){var bw;bw=bv.s;return bw<A.length(bu)&&(bv.c=A.get(bu,bw),bv.s=bw+1,true);},void 0);};Q.StringEnumerator=function(bu){return new _6.New(0,null,function(bv){var bw;bw=bv.s;return bw<bu.length&&(bv.c=bu[bw],bv.s=bw+1,true);},void 0);};Q.Get0=function(bu){return bu instanceof a.Array?Q.ArrayEnumerator(bu):v.Equals(typeof bu,"string")?Q.StringEnumerator(bu):"GetEnumerator0"in bu?bu.GetEnumerator0():bu.GetEnumerator();};C.insufficient=function(){return f.FailWith("The input sequence has an insufficient number of elements.");};R=t.KeyCollection=bq.Class({GetEnumerator$1:function(){return Q.Get(C.map(function(bu){return bu.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,R);R.New=bq.Ctor(function(bu){g.New.call(this);this.d=bu;},R);S.get_UseAnimations=function(){return _4.UseAnimations();};S.Play=function(bu){var bv;bv=null;return _8.Delay(function(){return _8.Bind(S.Run(a.ignore,_4.Actions(bu)),function(){_4.Finalize(bu);return _8.Return(null);});});};S.Append=function(bu,bv){return{$:0,$0:_9.Append(bu.$0,bv.$0)};};S.Run=function(bu,bv){var bw;function bx(by){function bz(bA,bB){var bC;bC=bB-bA;bv.Compute(bC);bu();return bC<=bw?void a.requestAnimationFrame(function(bD){bz(bA,bD);}):by();}a.requestAnimationFrame(function(bA){bz(bA,bA);});}bw=bv.Duration;return bw===0?_8.Zero():_8.FromContinuations(function(by,bz,bA){return bx.apply(null,[by,bz,bA]);});};S.Concat=function(bu){return{$:0,$0:_9.Concat(C.map(_4.List,bu))};};T.BatchUpdatesEnabled=function(){_5.$cctor();return _5.BatchUpdatesEnabled;};V.StartProcessor=function(bu){var bv;function bw(){var bx;bx=null;return _8.Delay(function(){return _8.Bind(bu,function(){var by;by=bv[0];return by===1?(bv[0]=0,_8.Zero()):by===2?(bv[0]=1,bw()):_8.Zero();});});}bv=[0];return function(){var bx;bx=bv[0];bx===0?(bv[0]=1,_8.Start(bw(),null)):bx===1?bv[0]=2:void 0;};};X.New=function(bu,bv,bw,bx){var by;by={DynElem:bu,DynFlags:bv,DynNodes:bw};bq.SetOptional(by,"OnAfterRender",bx);return by;};Y.Int=function(){Y.set_counter(Y.counter()+1);return Y.counter();};Y.set_counter=function(bu){$.$cctor();$.counter=bu;};Y.counter=function(){$.$cctor();return $.counter;};K.head=function(bu){return bu.$==1?bu.$0:K.listEmpty();};K.tail=function(bu){return bu.$==1?bu.$1:K.listEmpty();};K.listEmpty=function(){return f.FailWith("The input list was empty.");};Z.$cctor=function(){Z.$cctor=a.ignore;Z.EmptyAttr=null;};y.Obsolete=function(bu){var bv,bw,bx,by,bz;bw=bu.s;if(bw==null||(bw!=null&&bw.$==2?(bv=bw.$1,false):bw!=null&&bw.$==3?(bv=bw.$1,false):true))void 0;else{bu.s=null;for(bx=0,by=A.length(bv)-1;bx<=by;bx++){bz=A.get(bv,bx);typeof bz=="object"?function(bA){y.Obsolete(bA);}(bz):bz();}}};y.New=function(bu){return{s:bu};};_0.concat=function(bu,bv){return A.ofSeq(bv).join(bu);};_0.SplitChars=function(bu,bv,bw){return _0.Split(bu,new a.RegExp("["+_0.RegexEscape(bv.join(""))+"]"),bw);};_0.StartsWith=function(bu,bv){return bu.substring(0,bv.length)==bv;};_0.Split=function(bu,bv,bw){return bw===1?A.filter(function(bx){return bx!=="";},_0.SplitWith(bu,bv)):_0.SplitWith(bu,bv);};_0.RegexEscape=function(bu){return bu.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};_0.SplitWith=function(bu,bv){return bu.split(bv);};_2.New=function(bu,bv){return{PreviousNodes:bu,Top:bv};};_3.get_Empty=function(){return{$:0,$0:new B.New$3()};};_3.FindAll=function(bu){var bv;function bw(by){if(by!=null&&by.$==0){bw(by.$0);bw(by.$1);}else if(by!=null&&by.$==1)bx(by.$0);else if(by!=null&&by.$==2)bw(by.$0.Current);else if(by!=null&&by.$==6)A.iter(bx,by.$0.Holes);}function bx(by){bv.push(by);bw(by.Children);}bv=[];bw(bu);return{$:0,$0:new B.New$2(bv)};};_3.Filter=function(bu,bv){return{$:0,$0:be.Filter(bu,bv.$0)};};_3.Except=function(bu,bv){return{$:0,$0:be.Except(bu.$0,bv.$0)};};_3.ToArray=function(bu){return be.ToArray(bu.$0);};_3.Intersect=function(bu,bv){return{$:0,$0:be.Intersect(bu.$0,bv.$0)};};_4.UseAnimations=function(){_7.$cctor();return _7.UseAnimations;};_4.Actions=function(bu){return _4.ConcatActions(A.choose(function(bv){return bv.$==1?{$:1,$0:bv.$0}:null;},_9.ToArray(bu.$0)));};_4.Finalize=function(bu){A.iter(function(bv){if(bv.$==0)bv.$0();},_9.ToArray(bu.$0));};_4.ConcatActions=function(bu){var bv,bw,bx,by;bv=x.ofSeqNonCopying(bu);bw=A.length(bv);return bw===0?_4.Const():bw===1?A.get(bv,0):(bx=C.max(C.map(function(bz){return bz.Duration;},bv)),(by=A.map(function(bz){return _4.Prolong(bx,bz);},bv),_4.Def(bx,function(bz){A.iter(function(bA){bA.Compute(bz);},by);})));};_4.List=function(bu){return bu.$0;};_4.Const=function(bu){return _4.Def(0,function(){return bu;});};_4.Def=function(bu,bv){return{Compute:bv,Duration:bu};};_4.Prolong=function(bu,bv){var bw,bx,by;bw=bv.Compute;bx=bv.Duration;by=bl.Create(function(){return bv.Compute(bv.Duration);});return{Compute:function(bz){return bz>=bx?by.f():bw(bz);},Duration:bu};};_5.$cctor=function(){_5.$cctor=a.ignore;_5.BatchUpdatesEnabled=true;};_6=Q.T=bq.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},g,_6);_6.New=bq.Ctor(function(bu,bv,bw,bx){g.New.call(this);this.s=bu;this.c=bv;this.n=bw;this.d=bx;},_6);_7.$cctor=function(){_7.$cctor=a.ignore;_7.CubicInOut=ba.Custom(function(bu){var bv;bv=bu*bu;return 3*bv-2*(bv*bu);});_7.UseAnimations=true;};_8.Delay=function(bu){return function(bv){try{(bu(null))(bv);}catch(bw){bv.k({$:1,$0:bw});}};};_8.Bind=function(bu,bv){return _8.checkCancel(function(bw){bu(bb.New(function(bx){var by;if(bx.$==0){by=bx.$0;_8.scheduler().Fork(function(){try{(bv(by))(bw);}catch(bz){bw.k({$:1,$0:bz});}});}else _8.scheduler().Fork(function(){bw.k(bx);});},bw.ct));});};_8.Zero=function(){bc.$cctor();return bc.Zero;};_8.Start=function(bu,bv){var bw,bx;bw=(bx=(_8.defCTS())[0],bv==null?bx:bv.$0);_8.scheduler().Fork(function(){if(!bw.c)bu(bb.New(function(by){if(by.$==1)_8.UncaughtAsyncError(by.$0);},bw));});};_8.Return=function(bu){return function(bv){bv.k({$:0,$0:bu});};};_8.checkCancel=function(bu){return function(bv){if(bv.ct.c)_8.cancel(bv);else bu(bv);};};_8.defCTS=function(){bc.$cctor();return bc.defCTS;};_8.UncaughtAsyncError=function(bu){br.log("WebSharper: Uncaught asynchronous exception",bu);};_8.FromContinuations=function(bu){return function(bv){var bw;function bx(by){if(bw[0])f.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bw[0]=true;_8.scheduler().Fork(by);}}bw=[false];bu(function(by){bx(function(){bv.k({$:0,$0:by});});},function(by){bx(function(){bv.k({$:1,$0:by});});},function(by){bx(function(){bv.k({$:2,$0:by});});});};};_8.cancel=function(bu){bu.k({$:2,$0:new bk.New(bu.ct)});};_8.scheduler=function(){bc.$cctor();return bc.scheduler;};_9.Append=function(bu,bv){return bu.$==0?bv:bv.$==0?bu:{$:2,$0:bu,$1:bv};};_9.ToArray=function(bu){var bv;function bw(bx){if(bx.$==1)bv.push(bx.$0);else if(bx.$==2){bw(bx.$0);bw(bx.$1);}else if(bx.$==3)A.iter(function(by){bv.push(by);},bx.$0);}bv=[];bw(bu);return bv.slice(0);};_9.Concat=function(bu){var bv;bv=x.ofSeqNonCopying(bu);return x.TreeReduce(_9.Empty(),_9.Append,bv);};_9.Empty=function(){bm.$cctor();return bm.Empty;};_.concat=function(bu){var bv,bw;bv=[];for(var bx in bu)bv.push.apply(bv,bu[bx]);return bv;};$.$cctor=function(){$.$cctor=a.ignore;$.counter=0;};ba=h.Easing=bq.Class({},g,ba);ba.Custom=function(bu){return new ba.New(bu);};ba.New=bq.Ctor(function(bu){g.New.call(this);this.transformTime=bu;},ba);bb.New=function(bu,bv){return{k:bu,ct:bv};};bc.$cctor=function(){bc.$cctor=a.ignore;bc.noneCT=bd.New(false,[]);bc.scheduler=new bf.New();bc.defCTS=[new bg.New()];bc.Zero=_8.Return();bc.GetCT=function(bu){bu.k({$:0,$0:bu.ct});};};bd.New=function(bu,bv){return{c:bu,r:bv};};be.Filter=function(bu,bv){return new B.New$2(A.filter(bu,be.ToArray(bv)));};be.Except=function(bu,bv){var bw;bw=new B.New$2(be.ToArray(bv));bw.ExceptWith(be.ToArray(bu));return bw;};be.ToArray=function(bu){var bv;bv=A.create(bu.get_Count(),void 0);bu.CopyTo(bv);return bv;};be.Intersect=function(bu,bv){var bw;bw=new B.New$2(be.ToArray(bu));bw.IntersectWith(be.ToArray(bv));return bw;};bf=_8.Scheduler=bq.Class({Fork:function(bu){var bv;bv=this;this.robin.push(bu);this.idle?(this.idle=false,a.setTimeout(function(){bv.tick();},0)):void 0;},tick:function(){var bu,bv,bw;bv=this;bw=bt.now();bu=true;while(bu)if(this.robin.length===0){this.idle=true;bu=false;}else{(this.robin.shift())();bt.now()-bw>40?(a.setTimeout(function(){bv.tick();},0),bu=false):void 0;}}},g,bf);bf.New=bq.Ctor(function(){g.New.call(this);this.idle=true;this.robin=[];},bf);bg=b.CancellationTokenSource=bq.Class({},g,bg);bg.New=bq.Ctor(function(){g.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bg);bh.Children=function(bu,bv){var bw,bx,by;if(bv!=null&&bv.$==1){by=[];bw=bv.$0[0].nextSibling;while(bw!==bv.$0[1]){by.push(bw);bw=bw.nextSibling;}return{$:0,$0:by};}else return{$:0,$0:A.init(bu.childNodes.length,(bx=bu.childNodes,function(bz){return bx[bz];}))};};bh.Except=function(bu,bv){var bw;bw=bu.$0;return{$:0,$0:A.filter(function(bx){return A.forall(function(by){return!(bx===by);},bw);},bv.$0)};};bh.Iter=function(bu,bv){A.iter(bu,bv.$0);};bh.DocChildren=function(bu){var bv;function bw(bx){if(bx!=null&&bx.$==2)bw(bx.$0.Current);else if(bx!=null&&bx.$==1)bv.push(bx.$0.El);else if(bx==null);else if(bx!=null&&bx.$==5)bv.push(bx.$0);else if(bx!=null&&bx.$==4)bv.push(bx.$0.Text);else if(bx!=null&&bx.$==6)A.iter(function(by){if(by==null||by.constructor===M)bw(by);else bv.push(by);},bx.$0.Els);else{bw(bx.$0);bw(bx.$1);}}bv=[];bw(bu.Children);return{$:0,$0:x.ofSeqNonCopying(bv)};};bi.Clear=function(bu){bu.splice(0,A.length(bu));};bk=b.OperationCanceledException=bq.Class({},bj,bk);bk.New=bq.Ctor(function(bu){bk.New$1.call(this,"The operation was canceled.",null,bu);},bk);bk.New$1=bq.Ctor(function(bu,bv,bw){this.message=bu;this.inner=bv;M.setPrototypeOf(this,bk.prototype);this.ct=bw;},bk);bl.Create=function(bu){return bo.New(false,bu,bl.forceLazy);};bl.forceLazy=function(){var bu;bu=this.v();this.c=true;this.v=bu;this.f=bl.cachedLazy;return bu;};bl.cachedLazy=function(){return this.v;};bm.$cctor=function(){bm.$cctor=a.ignore;bm.Empty={$:0};};bo.New=function(bu,bv,bw){return{c:bu,v:bv,f:bw};};bq.OnLoad(function(){e.Main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
